(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[802],{2358:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cube-with-noise",function(){return e(4661)}])},3254:function(n,t,e){"use strict";function i(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function r(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}e.d(t,{Nm:function(){return o},qT:function(){return h}});var o,u=function(n,t,e,i,r){return e*i*r+t*i+n},s=function(n,t,e){var i=Math.floor(n/(t*e));return{x:(n-=i*t*e)%t,y:Math.floor(n/t),z:i}};!function(n){n.TOP="TOP",n.RIGHT="RIGHT",n.LEFT="LEFT",n.BOTTOM="BOTTOM",n.FRONT="FRONT",n.BACK="BACK"}(o||(o={}));var h=function(){function n(t,e,i){var h,a=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.hasNeighbour=function(n,t,e,i){var r=a.buffer,o=a.getNeighbourIndex(n,t,e,i);return!(o<0||o>r.length)&&(0===t&&1===e&&0===i&&console.log(n,t,e,i,s(o,a.width,a.height),r[o]),!!r[o])},this._width=t,this._height=e,this._depth=i,this.buffer=new Array(this.width*this.depth*this.height),this.resetBuffer(),this.neighbourFunctionMap=(r(h={},o.TOP,(function(n,i,r){return a.isYWithinBounds(i+1)?u(n,i+1,r,t,e):-1})),r(h,o.BOTTOM,(function(n,i,r){return a.isYWithinBounds(i-1)?u(n,i-1,r,t,e):-1})),r(h,o.BACK,(function(n,i,r){return a.isZWithinBounds(r-1)?u(n,i,r-1,t,e):-1})),r(h,o.FRONT,(function(n,i,r){return a.isZWithinBounds(r+1)?u(n,i,r+1,t,e):-1})),r(h,o.LEFT,(function(n,i,r){return a.isXWithinBounds(n-1)?u(n-1,i,r,t,e):-1})),r(h,o.RIGHT,(function(n,i,r){return a.isXWithinBounds(n+1)?u(n+1,i,r,t,e):-1})),h)}var t,e,h,a=n.prototype;return a.isYWithinBounds=function(n){return n>0&&n<this.height},a.isXWithinBounds=function(n){return n>0&&n<this.width},a.isZWithinBounds=function(n){return n>0&&n<this.depth},a.resetBuffer=function(){for(var n=0;n<this.buffer.length;n++)this.buffer[n]=""},a.getNeighbourIndex=function(n,t,e,i){return this.neighbourFunctionMap[n](t,e,i)},a.setValue=function(n,t,e,i){var r=this,o=r.width,s=r.height,h=r.depth;n<0||t<0||e<0||n>=o||t>=s||e>=h||(this.buffer[u(n,t,e,o,s)]=i)},a.getValue=function(n,t,e){var i=this,r=i.width,o=i.height,s=i.depth;if(!(n<0||t<0||e<0||n>=r||t>=o||e>=s))return this.buffer[u(n,t,e,r,o)]},a.forEach=function(n){var t=this;this.buffer.forEach((function(e,i){var r=s(i,t.width,t.height),o=r.x,u=r.y,h=r.z;return n(e,o,u,h)}))},t=n,(e=[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"depth",get:function(){return this._depth}}])&&i(t.prototype,e),h&&i(t,h),n}()},832:function(n,t,e){"use strict";e.d(t,{$:function(){return r}});var i=e(7048),r=function(n,t,e,r){n.resetBuffer();for(var o=new i.ZP(t),u=0;u<=n.width;u+=1)for(var s=0;s<=n.depth;s+=1)for(var h=Math.floor((o.noise2D(u/e,s/e)+1)/2*n.height/r);h>=0;)n.setValue(u,h,s,"true"),h-=1}},4661:function(n,t,e){"use strict";e.r(t);var i=e(5893),r=e(9008),o=e.n(r),u=e(7948),s=e(5861),h=e(6447),a=e(7507),c=e(3321),f=e(7294),l=e(9477),d=e(9365),p=e(3254),v=e(1664),g=e.n(v),w=e(1317),x=e(832);function b(n){return Math.pow(2,n-8)}var m=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.shouldStop=!1}var t=n.prototype;return t.initializeGrid=function(n,t,e,i,r){var o=new p.qT(n/t,n/t,n/t);return(0,x.$)(o,e,i,r),o},t.startAnimation=function(n,t,e,i,r,o){var u=this,s=n.clientWidth,h=n.clientHeight,a=new l.xsS,c=new l.cPb(75,s/h,.1,1e3),f=new l.nls({color:16777215});new d.z(c,n),c.position.z=3*t;var p=new l.CP7;p.setSize(s,h),n.appendChild(p.domElement);var v=new l.DvJ(e,e,e),g=new l.TOt(v);this.initializeGrid(t,e,i,r,o).forEach((function(n,i,r,o){if(n){var u=new l.ejS(g,f);u.position.x=i*e-t/2,u.position.y=r*e,u.position.z=o*e-t/2,a.add(u)}}));var w=function(){u.shouldStop?n.removeChild(p.domElement):(requestAnimationFrame(w),p.render(a,c))};w()},t.stopAnimation=function(){this.shouldStop=!0},n}();t.default=function(){var n=(0,f.useState)(10),t=n[0],e=n[1],r=(0,f.useState)(1),l=r[0],d=r[1],p=(0,f.useState)(8),v=p[0],x=p[1],y=(0,f.useState)(1),T=y[0],j=y[1],C=(0,f.useState)("John"),B=C[0],O=C[1],_=(0,f.useRef)(),A=(0,f.useRef)(null),S=(0,f.useCallback)((function(){_.current&&_.current.stopAnimation(),A.current&&(_.current=new m,_.current.startAnimation(A.current,t,b(v),B,l,T))}),[T,v,B,t,l]);return(0,i.jsxs)(u.Z,{maxWidth:"lg",style:{minHeight:"100vh",paddingTop:"1rem",display:"flex",flexDirection:"column"},children:[(0,i.jsxs)(o(),{children:[(0,i.jsx)("title",{children:"Simulations"}),(0,i.jsx)("meta",{name:"description",content:"Cube based on noise"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsx)(s.Z,{variant:"h3",component:"h1",children:"Cube based on noise"}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)(g(),{href:"/naive-cube",children:"< Naive Cube"}),(0,i.jsx)(g(),{href:"/optimize-mesh",children:"Optimize Mesh >"})]}),(0,i.jsxs)(h.Z,{spacing:2,direction:"row",style:{flex:1},children:[(0,i.jsx)("div",{style:{flex:2},ref:A}),(0,i.jsxs)(h.Z,{spacing:2,style:{flex:1},children:["Size: ",t,(0,i.jsx)(a.ZP,{min:1,max:100,step:1,value:t,onChange:function(n,t){return!Array.isArray(t)&&e(t)}}),"Resolution:"," ",b(v),(0,i.jsx)(a.ZP,{scale:b,value:v,min:1,step:1,max:8,valueLabelDisplay:"auto",onChange:function(n,t){return!Array.isArray(t)&&x(t)}}),"Total Grid Size: ",(0,i.jsx)("br",{}),Math.pow(t/b(v),3),"Seed:"," ",(0,i.jsx)(w.Z,{value:B,onChange:function(n){return O(n.target.value)}}),"Smoothness:",(0,i.jsx)(a.ZP,{min:1,max:20,step:1,value:l,onChange:function(n,t){return!Array.isArray(t)&&d(t)}}),"Noise strength reduction: ",T,(0,i.jsx)(a.ZP,{min:1,max:5,step:.25,value:T,onChange:function(n,t){return!Array.isArray(t)&&j(t)}}),(0,i.jsx)(c.Z,{onClick:S,children:"Create"})]})]})]})}}},function(n){n.O(0,[737,543,321,507,365,153,774,888,179],(function(){return t=2358,n(n.s=t);var t}));var t=n.O();_N_E=t}]);